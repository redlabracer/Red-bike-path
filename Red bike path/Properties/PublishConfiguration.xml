<Publish>
	<!--Id must be set in order to update existed mod. it is not required for publishing mod for the first time-->
	<ModId Value="126306" />
	<!--Name of the mod to display to players-->
	<DisplayName Value="Colored bike path (CBP)" />
	<!--Short description of the mod-->
	<ShortDescription Value="Change bike path and bike lane colors with multiple presets and intensity control. Now more stable with critical bug fixes!" />
	<!--Long description of the mod. Single line or multi line. Supports minimal markdown subset-->
	<LongDescription>
# Colored Bike Path (CBP)

Transform your city's cycling infrastructure with customizable bike path colors! Make your bike lanes stand out with vibrant colors that match your city's unique character.

## ✨ What's New in v2.0.1

### 🐛 Critical Stability Fix
- **Fixed NullReferenceException crashes** - Eliminated the logging framework conflicts that were causing error spam
- **Improved stability** - Added defensive error handling throughout the material color system
- **Better performance** - Reduced overhead by disabling problematic logging components
- **Smoother operation** - Mod now runs silently without generating unnecessary log entries

### 🎨 Expanded Color Palette (from v2.0)
Choose from **17 preset colors** including:
- **Aqua Blue Shades**: Aqua, London Blue (Cycle Superhighway), Cyan, Turquoise
- **Vibrant Colors**: Red, Green, Lime Green, Blue, Purple, Magenta
- **Classic Colors**: Orange, Yellow, Pink, Brown, White, Black
- **Custom**: Full RGB/Hex color picker for unlimited options

### 🎛️ Advanced Color Controls
Fine-tuning options:
- **Saturation Control** (0-100%) - From grayscale to full color
- **Brightness Control** (0-100%) - From dark to bright
- **Color Intensity** - Overall effect strength
- Apply to ANY preset for perfect customization

## Features

### Multiple Color Options
Get London-style aqua blue lanes or choose from 16 other presets. Not satisfied? Create your own with RGB sliders or hex codes!

### Advanced Customization
Three levels of control:
1. Quick presets for instant results
2. Saturation &amp; brightness for fine-tuning
3. Custom RGB/Hex for unlimited possibilities

### Smart Path Detection
Intelligently identifies bike paths, lanes, and cycleways while avoiding vehicles and buildings

### Flexible Filtering
- Skip mixed bike+pedestrian paths to keep sidewalks natural
- Or color everything for maximum visibility
- Toggle between modes instantly

### Real-Time Updates
See changes immediately - no restart required!

## How to Use

### Quick Start
1. Enable the mod in your mod manager
2. Load your city
3. Open mod settings (Options &gt; Mods &gt; Colored Bike Path)
4. Choose a color preset (try "London Blue" for aqua lanes!)
5. Adjust saturation/brightness if desired
6. Changes apply automatically

### Fine-Tuning
Want the perfect shade?
1. Pick the closest preset color
2. Adjust **Saturation** (less = more pastel, more = more vibrant)
3. Adjust **Brightness** (less = darker, more = lighter)
4. Tweak **Color Intensity** for overall strength

### Custom Colors
For complete control:
1. Select "Custom" preset
2. Enter a hex code (e.g., #00BFFF for deep sky blue)
3. Or use RGB sliders (0-255 each)
4. Add saturation/brightness adjustments

## Settings Explained

### Color Preset
Choose from 17 built-in colors or "Custom" for your own. Popular choices:
- **London Blue** - Matches London's Cycle Superhighways
- **Aqua** - Bright, eye-catching aqua
- **Red** - High visibility (default)
- **Green** - Natural, eco-friendly look

### Advanced Color Controls
- **Saturation**: How vivid the color is (0=gray, 100=full color)
- **Brightness**: How light the color is (0=black, 100=full brightness)
Works with all presets!

### Color Intensity
Master control from 0% (no change) to 100% (full effect)

### Only Bike Lanes (Skip Mixed Paths)
When enabled, skips mixed bike+pedestrian paths to avoid coloring pedestrian areas. May also skip some pure bike paths due to naming patterns.

### Color Mixed Bike+Pedestrian Paths
When enabled, colors mixed paths where bikes and pedestrians share the same surface.
**Warning:** This will also color the pedestrian areas since the game uses one material for the entire mixed path.

## Technical Details

- Works by modifying material colors at runtime
- No permanent changes to game files
- Compatible with most other mods
- Minimal performance impact
- Automatically updates when settings change
- Improved stability with better error handling (v2.0.1)

## Known Limitations

- Mixed bike/pedestrian paths use a single material, so the entire path (including pedestrian areas) gets colored when enabled
- Some bike paths may not be detected if they use non-standard naming
- Color changes may take a few seconds to apply after game load

## Troubleshooting

**Colors not applying?**
- Wait a few seconds after loading the city
- Check that the mod is enabled in the mod manager
- Verify color intensity is above 0%
- Try switching to a different color preset and back

**Pedestrian areas getting colored?**
- Disable "Color Mixed Bike+Pedestrian Paths" in settings
- Enable "Only Bike Lanes" for maximum filtering

**Performance issues?**
- Reduce color intensity
- Disable mixed path coloring

## Recent Updates

**v2.0.1** - Fixed critical stability issues that were causing NullReferenceException errors and log spam

**v2.0.0** - Added 6 new color presets, saturation/brightness controls, and improved UI organization

## Localization

Currently supports:
- **English** (en-US)
- **German** (de-DE)

Want to help translate? Contact me via GitHub!

## Links &amp; Support

Found a bug? Have a suggestion? Want to contribute?
Visit the GitHub repository to report issues, request features, or contribute to development.

## License &amp; Credits

This mod is open source and available on GitHub.
Feel free to contribute, fork, or report issues!

**Compatibility:** Cities: Skylines II v1.1.x and newer

---


	</LongDescription>
	<!--Thumbnail-->
	<Thumbnail Value="Properties/Thumbnail.jpeg" />
	<!--Screenshot, can be set multiple times-->
	<Screenshot Value="Properties/Screenshot 2.png" />
	<!--Tag, can be set multiple times-->
	<Tag Value="Code Mod" />
	<!--Link to the forum post where the mod can be discussed-->
	<ForumLink Value="https://forum.paradoxplaza.com/forum/threads/colored-bike-path-cbp.1883408/" />
	<!--Version of the mod-->
	<ModVersion Value="2.0.2" />
	<!--Recommended version of the base game to use the mod-->
	<GameVersion Value="1.4.*" />
	<!--Dependency for the mod, can be set multiple times-->
	<!--No dependencies required-->
	<!--Required DLC, can be set multiple times. Supported values are "Landmark Buildings", "San Fransisco Set", "Beach Properties", "Urban Promenades", "Modern Architecture"-->
	<!--No DLC required-->
	<!--Change log for new version. Single line or multi line. Supports minimal markdown subset-->
	<ChangeLog>
## Version 2.0.1 - Critical Stability Fix

### 🐛 Bug Fixes
- **Fixed NullReferenceException crashes** - Eliminated the logging framework conflicts that were causing continuous error spam in game logs
- **Improved stability** - Added comprehensive defensive error handling throughout the material color system
- **Better performance** - Reduced overhead by disabling problematic logging components that were causing conflicts
- **Smoother operation** - Mod now runs silently and reliably without generating unnecessary log entries

### 🔧 Technical Improvements
- Implemented safe logging wrapper to prevent framework crashes
- Added null checks for shader access and material properties
- Improved error recovery for edge cases
- Removed special Unicode characters that could cause logging issues
- Disabled verbose logging to prevent conflicts with Colossal's logging framework

### 📝 What's Fixed
This update resolves:
- Continuous NullReferenceException errors flooding the game log
- Potential crashes related to the Colossal logging framework
- Performance degradation from excessive error logging
- Instability when accessing material shader properties
- Log spam that could impact game performance

The mod now works reliably without spamming your log files!

---

## Version 2.0.0 - Color Palette Expansion &amp; Advanced Controls

### 🎨 New Color Presets
- **Aqua** - Bright aqua blue
- **London Blue (Cycle Superhighway)** - Match London's iconic bike lanes!
- **Cyan** - Pure bright cyan
- **Turquoise** - Softer turquoise shade
- **Lime Green** - Vibrant lime green
- **Magenta** - Bright magenta/hot pink

### ✨ Advanced Color Controls
- **Saturation Slider** - Control color intensity from grayscale to full color (0-100%)
- **Brightness Slider** - Adjust brightness from dark to full brightness (0-100%)
- Works with ALL color presets for complete customization

### 🔧 Improvements
- Expanded color palette from 11 to 17 preset colors
- New "Advanced Color Controls" settings section
- Fine-tune any preset with saturation and brightness
- Better organization of settings UI
	</ChangeLog>
	<!--External link, can be set multiple times. supported types are "discord", "github", "youtube", "twitch", "x", "paypal", "patreon", "buymeacoffee", "kofi", "crowdin", "gitlab", "gofundme"-->
	<ExternalLink Type="github" Url="https://github.com/redlabracer/Red-bike-path" />
	<!--Supported values Public, Private, Unlisted-->
	<AccessLevel Value="Public" />
	<!--ModPublisherCommand determines the action to take. Supported values are "Publish", "Update", "Unpublish"-->
	<ModPublisherCommand Value="Update" />
</Publish>
